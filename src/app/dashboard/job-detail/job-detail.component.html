<div fxFill fxLayout="column" fxLayoutAlign="space-between none">
  <div class="content">
    <div fxFill fxLayoutAlign="center center">
      <md-card class="job-detail-container"
               fxFlex.lt-sm="90%" fxFlex.lt-md="56rem" fxFlex.md="68rem" fxFlex.gt-sm="92.4rem">
        <h1 class="heading">Create a new job</h1>

        <p class="sub-header">
          Once you are done with creating a new job you will automatically get a generated QR code to use.
        </p>

        <div fxLayout.lt-md="column" fxLayout.gt-sm="row" fxLayoutGap="1.6rem">

          <section fxFlex>
            <md-input-container fxFlex>
              <input mdInput placeholder="Job name" [(ngModel)]="data.name">
            </md-input-container>
          </section>

        </div>

        <div fxLayout.lt-md="column" fxLayout.gt-sm="row" fxLayoutGap="1.6rem">

          <section fxFlex>
            <md-input-container fxFlex>
              <input mdInput [mdDatepicker]="picker1" placeholder="Schedule from" [(ngModel)]="data.startAt">
              <button mdSuffix [mdDatepickerToggle]="picker1"></button>
            </md-input-container>
            <md-datepicker #picker1></md-datepicker>
          </section>

          <section fxFlex>
            <md-input-container fxFlex>
              <input mdInput [mdDatepicker]="picker2" placeholder="Schedule to" [(ngModel)]="data.endAt">
              <button mdSuffix [mdDatepickerToggle]="picker2"></button>
            </md-input-container>
            <md-datepicker #picker2></md-datepicker>
          </section>

        </div>

        <div fxLayout.lt-md="column" fxLayout.gt-sm="row" fxLayoutGap="1.6rem">

          <section fxFlex>
            <md-input-container fxFlex>
              <input mdInput placeholder="Code" [(ngModel)]="data.code">
              <md-hint>This code will be used to generate a unique QR code.</md-hint>
            </md-input-container>
          </section>

          <section fxFlex fxLayout="column">
            <md-select placeholder="Assign to" fxFlex [(ngModel)]="data.assignedTo" [ngStyle]="{'margin-top.rem': 2.2}">
              <md-option [value]="custodian._id" *ngFor="let custodian of custodians?.data">{{ custodian.firstName }} {{ custodian.lastName }}</md-option>
            </md-select>
            <p class="no-data" *ngIf="!custodians?.data?.length">You need to add a custodian first before you can assign one.</p>
          </section>
        </div>

        <div class="input-container" fxLayout="column" fxLayoutGap="1.6rem">
          <tag-input [(ngModel)]="selectedTasks"
                     [placeholder]="'+Task'"
                     [secondaryPlaceholder]="'Type in tasks'"
                     (onAdd)="onTaskAction()"
                     (onRemove)="onTaskAction()" fxFlex>
            <tag-input-dropdown [autocompleteItems]="tasks"></tag-input-dropdown>
          </tag-input>
          <p class="no-data" *ngIf="!tasks?.length">You need to add a custodian first before you can assign one.</p>
        </div>

        <div class="input-container" fxLayout="row" fxLayoutGap="1.6rem">
          <span fxFlex></span>
          <a md-raised-button [routerLink]="cancelRoute">CANCEL</a>
          <button md-raised-button color="primary" (click)="save()">SAVE</button>
        </div>

      </md-card>
    </div>
  </div>

  <footer>
    <p>Copyright Â© 2017 Overpass Limited. All rights reserved.</p>
  </footer>
</div>



